<!--<!DOCTYPE html>-->
<!--&lt;!&ndash;<html xmlns:th="http://thymeleaf.org">&ndash;&gt;-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--<title> Cars List</title>-->
<!--<link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"-->
<!--integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" rel="stylesheet">-->
<!--</head>-->
<!--<body>-->
<!--<h1> CARS LIST</h1>-->

<!--<table class="table">-->
<!--<thead>-->
<!--<tr>-->
<!--<th scope="col">Id</th>-->
<!--<th scope="col">Brand</th>-->
<!--<th scope="col">Model</th>-->
<!--<th scope="col">Body Type</th>-->
<!--<th scope="col">Production Year</th>-->
<!--<th scope="col">Color</th>-->
<!--<th scope="col">Mileage</th>-->
<!--<th scope="col">Status</th>-->
<!--<th scope="col">Daile Fee</th>-->
<!--</tr>-->
<!--</thead>-->
<!--<tbody>-->

<!--<tr th:each="car: ${cars}">-->
<!--<td th:text="${car.id}"/>-->
<!--<td th:text="${car.brand}"/>-->
<!--<td th:text="${car.model}"/>-->
<!--<td th:text="${car.bodyType}"/>-->
<!--<td th:text="${car.productionYear}"/>-->
<!--<td th:text="${car.color}"/>-->
<!--<td th:text="${car.mileage}"/>-->
<!--<td th:text="${car.status}"/>-->
<!--<td th:text="${car.dailyFee}"/>-->
<!--<td>-->
<!--<form method="GET" th:action="'/cars/edit/' + ${car.id}">-->
<!--<button class="btn btn-warning" type="submit">Edit</button>-->
<!--</form>-->
<!--</td>-->
<!--<td>-->
<!--<form method="GET" th:action="'/booking/selectCar/' + ${car.id}">-->
<!--<button class="btn btn-primary" type="submit">Select</button>-->
<!--</form>-->
<!--</td>-->
<!--<td>-->
<!--<form method="POST" th:action="'/cars/delete/' + ${car.id}">-->
<!--<button class="btn btn-danger" type="submit">Delete</button>-->
<!--</form>-->
<!--</td>-->
<!--</tr>-->

<!--</tbody>-->
<!--</table>-->


<!--<button class="btn btn-success" onclick="window.location.href='/cars/add'" type="button">Add car</button>-->


<!--<script crossorigin="anonymous"-->
<!--integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"-->
<!--src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>-->
<!--<script crossorigin="anonymous"-->
<!--integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"-->
<!--src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>-->
<!--<script crossorigin="anonymous"-->
<!--integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"-->
<!--src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link href="https://getbootstrap.com/docs/4.3/examples/dashboard/" rel="canonical">
    <!-- Bootstrap CSS -->
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">
    <link href="../static/css/jumbotron.css" rel="stylesheet" th:href="@{/css/jumbotron.css}">
    <link href="../static/css/main.css" rel="stylesheet" th:href="@{/css/main.css}">
    <title>Cars</title>
</head>
<body>

<div th:replace="fragments/header :: header">
</div>

<main>
    <div class="container">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Id</th>
                    <th>Brand</th>
                    <th>Model</th>
                    <th>Body type</th>
                    <th>Production year</th>
                    <th>Color</th>
                    <th>Mileage</th>
                    <th>Status</th>
                    <th>Estimated Price</th>
                    <th class="text-center">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="car: ${cars}" th:object="${car}">
                    <td class="pt-3" th:text="*{id}">1</td>
                    <td class="pt-3" th:text="*{brand}">Audi</td>
                    <td class="pt-3" th:text="*{model}">Q7</td>
                    <td class="pt-3" th:text="*{bodyType}">SUV</td>
                    <td class="pt-3" th:text="*{productionYear}">2018</td>
                    <td class="pt-3" th:text="*{color}">white</td>
                    <td class="pt-3" th:text="*{mileage}">85600</td>
                    <td class="pt-3" th:text="*{status}">AVAILABLE</td>
                    <td class="pt-3" th:text="${days != null} ? ${car.dailyFee*days} : *{dailyFee}">109.99</td>
                    <td>
                        <div class="d-flex justify-content-center">
                            <form method="post" th:action="@{|/booking/selectCar/${car.id}|}"
                                  th:object="${userBooking}">
                                <input th:field="*{startDate}" type="hidden">
                                <input th:field="*{endDate}" type="hidden">
                                <input th:field="*{rentDepartment}" type="hidden">
                                <input th:field="*{returnDepartment}" type="hidden">
                                <button class="btn btn-outline-primary btn-sm" type="submit">Select</button>
                            </form>
                            <div sec:authorize="hasRole('ROLE_ADMIN')">
                                <form class="pl-1" method="get" th:action="@{|/cars/edit/${car.id}|}">
                                    <button class="btn btn-outline-dark btn-sm" type="submit">Edit</button>
                                </form>
                                <form class="pl-1" method="post" th:action="@{|cars/delete/${car.id}|}">
                                    <button class="btn btn-outline-danger btn-sm"
                                            onclick="if (!(confirm('Are you sure you want to delete this contact?'))) return false"
                                            type="submit">Delete
                                    </button>
                                </form>
                            </div>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div sec:authorize="hasRole('ROLE_ADMIN')">
            <a class="btn btn-outline-success btn-sm" href="#" th:href="@{/cars/addRentDepartment}">Add car</a>
        </div>
    </div>
</main>

<script crossorigin="anonymous" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="dashboard.js"></script>
</body>
</html>